<app-header></app-header>
<div class="dashboard">
  <div class="container">
    <!-- Welcome Section -->
    <div class="welcome-section">
      <div class="welcome-content">
        <h1 class="welcome-title">Welcome back, {{ userName }}! </h1>
        <p class="welcome-subtitle">Ready to hit the road? Check out your bookings and explore available vehicles.</p>
      </div>
      <button class="btn-primary" routerLink="/user/vehicles">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"/>
          <path d="m21 21-4.35-4.35"/>
        </svg>
        Browse Vehicles
      </button>
    </div>
    <!-- Stats Cards -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
            <line x1="16" y1="2" x2="16" y2="6"/>
            <line x1="8" y1="2" x2="8" y2="6"/>
            <line x1="3" y1="10" x2="21" y2="10"/>
          </svg>
        </div>
        <div class="stat-info">
          <p class="stat-label">Active Bookings</p>
          <p class="stat-value">{{ stats.activeBookings }}</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
            <circle cx="9" cy="7" r="4"/>
            <polyline points="16 11 18 13 22 9"/>
          </svg>
        </div>
        <div class="stat-info">
          <p class="stat-label">Total Bookings</p>
          <p class="stat-value">{{ stats.totalBookings }}</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="12" y1="1" x2="12" y2="23"/>
            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
          </svg>
        </div>
        <div class="stat-info">
          <p class="stat-label">Total Spent</p>
          <p class="stat-value">₹{{ stats.totalSpent }}</p>
        </div>
      </div>
    </div>
    <!-- Recent Bookings -->
    <div class="section">
      <div class="section-header">
        <h2 class="section-title">Recent Bookings</h2>
        <a routerLink="/user/myBookings" class="link-with-arrow">
          View All
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right-icon lucide-arrow-right"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
        </a>
      </div>
      <div class="bookings-list">
        <div *ngFor="let booking of recentBookings" class="booking-card">
          <div class="booking-header">
            <h3 class="booking-vehicle">{{ booking.vehicleModel }}</h3>
            <span class="booking-status" [ngClass]="getStatusClass(booking.status)">
              {{ booking.status }}
            </span>
          </div>
          <div class="booking-details">
            <div class="booking-dates">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
              </svg>
              <span>{{ formatDate(booking.startTime) }} - {{ formatDate(booking.endTime) }}</span>
            </div>
            <div class="booking-amount">
              <strong>₹{{ booking.amount }}</strong>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
